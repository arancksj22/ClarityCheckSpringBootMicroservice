
# --- SERVER ---
server.port=${PORT:8080}

# --- CLOUD STORAGE CONFIG ---
# Use placeholders ${VAR_NAME} to read from Render
spring.cloud.aws.region.static=${AWS_REGION}
spring.cloud.aws.s3.endpoint=${AWS_ENDPOINT}
spring.cloud.aws.s3.bucket=${AWS_BUCKET_NAME}

# Secrets
spring.cloud.aws.credentials.access-key=${AWS_ACCESS_KEY}
spring.cloud.aws.credentials.secret-key=${AWS_SECRET_KEY}

# --- GOOGLE OAUTH ---
spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID}
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET}

# --- AI & PROMPTS ---
gemini.api.key=${GEMINI_API_KEY}
prompt.ethics.path=classpath:Prompts/ethics.txt
prompt.assumption.path=classpath:Prompts/assumption.txt
prompt.logic.path=classpath:Prompts/logic.txt

# --- FILE LIMITS ---
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# 1. ALLOW CROSS-SITE COOKIES
# Required so the browser doesn't drop the cookie between Vercel and Render
server.servlet.session.cookie.same-site=None

# 2. FORCE HTTPS
# 'SameSite=None' ONLY works if 'Secure' is also true.
# This forces the cookie to be sent only over HTTPS.
server.servlet.session.cookie.secure=true

# 3. (Optional but Recommended) PROXY TRUST
# Since Render puts your app behind a proxy (Load Balancer),
# this ensures Spring correctly detects that it's running on HTTPS.
server.forward-headers-strategy=native