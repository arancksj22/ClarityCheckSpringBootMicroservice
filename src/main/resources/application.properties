# --- SERVER CONFIG ---
# Render sets PORT automatically, but we default to 8080 locally
server.port=${PORT:8080}

# --- CLOUD STORAGE (Backblaze/Filebase) ---
# Maps to AWS_REGION, AWS_ENDPOINT, AWS_BUCKET_NAME from your screenshot
spring.cloud.aws.region.static=${AWS_REGION}
spring.cloud.aws.s3.endpoint=${AWS_ENDPOINT}
spring.cloud.aws.s3.bucket=${AWS_BUCKET_NAME}

# Maps to AWS_ACCESS_KEY and AWS_SECRET_KEY
spring.cloud.aws.credentials.access-key=${AWS_ACCESS_KEY}
spring.cloud.aws.credentials.secret-key=${AWS_SECRET_KEY}

# Force path-style access (REQUIRED for Filebase/Backblaze)
spring.cloud.aws.s3.path-style-access-enabled=true

# --- GOOGLE OAUTH ---
# Maps to GOOGLE_CLIENT_ID and GOOGLE_CLIENT_SECRET
spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID}
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET}

# --- AI CONFIG ---
# Maps to GEMINI_API_KEY
gemini.api.key=${GEMINI_API_KEY}

# Prompt file paths (These are internal to your jar, so they stay static)
prompt.ethics.path=classpath:Prompts/ethics.txt
prompt.assumption.path=classpath:Prompts/assumption.txt
prompt.logic.path=classpath:Prompts/logic.txt

# --- FILE UPLOAD LIMITS ---
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# --- SESSION & COOKIE SECURITY (REQUIRED FOR VERCEL + RENDER) ---
# Allows the cookie to be sent from Vercel to Render
server.servlet.session.cookie.same-site=None
# Forces the cookie to be Secure (HTTPS only)
server.servlet.session.cookie.secure=true
# Trusts the Render Load Balancer's HTTPS headers
server.forward-headers-strategy=native